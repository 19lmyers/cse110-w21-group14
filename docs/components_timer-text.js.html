<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/timer-text.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/timer-text.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>class TimerText extends HTMLElement {
  constructor() {
    super();

    // Initialize properties
    this.time = 0;
    this.intervalId = null;

    this.attachShadow({mode: 'open'});

    let wrapper = document.createElement('div');
    wrapper.innerHTML = `
    &lt;span class="minute">${this._minString}&lt;/span>
    :
    &lt;span class="second">${this._secString}&lt;/span>
    `;

    let style = document.createElement('link');
    style.setAttribute('rel', 'stylesheet');
    style.setAttribute('href', 'styles/timer-text.css');

    this.shadowRoot.append(wrapper, style);
  } /* constructor */

  /**
   * Starts the timer.
   */
  start() {
    if (this.intervalId === null) {
      this.intervalId = setInterval(this._update.bind(this), 1000);

      // Set document title to current time
      document.title = `Pomodoro - ${this.timeString}`;
    }
  } /* start */

  /**
   * Updates the timer's state.
   */
  _update() {
    this.time--;

    let shadow = this.shadowRoot;
    shadow.querySelector('.minute').textContent = this._minString;
    shadow.querySelector('.second').textContent = this._secString;

    // Set document title to current time
    document.title = `Pomodoro - ${this.timeString}`;
  } /* update */


  /**
   * Stops the timer.
   */
  stop() {
    clearInterval(this.intervalId);
    this.intervalId = null;
  } /* stop */

  /**
   * Sets the timer to the desired value (in seconds).
   * Only works if the timer is stopped.
   * @param {Number} newTime is the time in seconds.
   */
  setTime(newTime) {
    if (this.intervalId === null) {
      this.time = newTime;

      let shadow = this.shadowRoot;
      shadow.querySelector('.minute').textContent = this._minString;
      shadow.querySelector('.second').textContent = this._secString;
    }
  } /* time */

  /**
   * Gets the current time as a mm:ss string.
   */
  get timeString() {
    return this.time &lt; 0 ? `-${this._minString}:${this._secString}` :
      `${this._minString}:${this._secString}`;
  } /* timeString */

  /**
   * Gets the current minute as a string (always positive).
   */
  get _minString() {
    let currentTime = Math.abs(this.time);
    let min = Math.floor(currentTime / 60);
    return min &lt; 10 ? '0' + min : '' + min;
  } /* get minuteString */

  /**
   * Gets the current second as a string (always positive).
   */
  get _secString() {
    let currentTime = Math.abs(this.time);
    let sec = currentTime % 60;
    return sec &lt; 10 ? '0' + sec : '' + sec;
  } /* timeString */
}

customElements.define('timer-text', TimerText);

module.exports = TimerText;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FocusTask.html">FocusTask</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskList.html">TaskList</a></li><li><a href="TimerApp.html">TimerApp</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Wed Mar 17 2021 00:48:21 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
